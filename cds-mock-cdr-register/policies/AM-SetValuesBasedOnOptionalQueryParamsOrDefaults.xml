<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<AssignMessage async="false" continueOnError="false" enabled="true" name="AM-SetValuesBasedOnOptionalQueryParamsOrDefaults">
  <DisplayName>AM-SetValuesBasedOnOptionalQueryParamsOrDefaults</DisplayName>
  <AssignVariable>
    <Name>baseURI</Name>
    <Ref>request.queryparam.recipient_base_uri</Ref>
    <Value>https://mockcompany.com.au</Value>
  </AssignVariable>
  <AssignVariable>
    <Name>defaultJWKSURI</Name>
    <Template>{baseURI}/jwks</Template>
  </AssignVariable>
  <AssignVariable>
    <Name>jwksURI</Name>
    <Template>{firstnonnull(request.queryparam.jwks_uri,defaultJWKSURI)}</Template>
  </AssignVariable>
  <AssignVariable>
    <Name>logoURI</Name>
    <Template>{baseURI}/img/mock-logo.png</Template>
  </AssignVariable>
  <AssignVariable>
    <Name>tosURI</Name>
    <Template>{baseURI}/mock-tos.html</Template>
  </AssignVariable>
  <AssignVariable>
    <Name>policyURI</Name>
    <Template>{baseURI}/mock-policy.html</Template>
  </AssignVariable>
  <AssignVariable>
    <Name>revocationURI</Name>
    <Template>{baseURI}/revocation</Template>
  </AssignVariable>
  <AssignVariable>
    <Name>defaultLegalId</Name>
    <Template>LEGAL-{xeger('[0-9]{3}')}</Template>
  </AssignVariable>
  <AssignVariable>
    <Name>legalId</Name>
    <Template>{firstnonnull(request.queryparam.legal_entity_id,defaultLegalId)}</Template>
  </AssignVariable>
  <AssignVariable>
    <Name>defaultLegalName</Name>
    <Template>Legal-name-{xeger('[0-9]{3}')}</Template>
  </AssignVariable>
  <AssignVariable>
    <Name>legalName</Name>
    <Template>{firstnonnull(request.queryparam.legal_entity_name,defaultLegalName)}</Template>
  </AssignVariable>
  <AssignVariable>
    <Name>defaultOrgId</Name>
    <Template>ORG-{xeger('[0-9]{3}')}</Template>
  </AssignVariable>
  <AssignVariable>
    <Name>orgId</Name>
    <Template>{firstnonnull(request.queryparam.org_id,defaultOrgId)}</Template>
  </AssignVariable>
  <AssignVariable>
    <Name>defaultOrgName</Name>
    <Template>Org-name-{xeger('[0-9]{3}')}</Template>
  </AssignVariable>
  <AssignVariable>
    <Name>orgName</Name>
    <Template>{firstnonnull(request.queryparam.org_name,defaultOrgName)}</Template>
  </AssignVariable>
  <AssignVariable>
    <Name>defaultClientName</Name>
    <Template>Client-name-{xeger('[0-9]{3}')}</Template>
  </AssignVariable>
  <AssignVariable>
    <Name>clientName</Name>
    <Template>{firstnonnull(request.queryparam.client_name,defaultClientName)}</Template>
  </AssignVariable>
  <AssignVariable>
    <Name>defaultClientDescription</Name>
    <Template>Client-description-{xeger('[0-9]{3}')}</Template>
  </AssignVariable>
  <AssignVariable>
    <Name>clientDescription</Name>
    <Template>{firstnonnull(request.queryparam.client_desc,defaultClientDescription)}</Template>
  </AssignVariable>
  <AssignVariable>
    <Name>defaultScope</Name>
    <Value>openid profile bank:accounts.basic:read bank:accounts.detail:read bank:transactions:read bank:payees:read bank:regular_payments:read common:customer.basic:read common:customer.detail:read cdr:registration</Value>
  </AssignVariable>
  <AssignVariable>
    <Name>scope</Name>
    <Template>{firstnonnull(request.queryparam.scope,defaultScope)}</Template>
  </AssignVariable>
  <IgnoreUnresolvedVariables>true</IgnoreUnresolvedVariables>
  <AssignTo createNew="false" transport="http" type="request"/>
</AssignMessage>